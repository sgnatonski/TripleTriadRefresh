var App=function(){function n(){this.menu=ko.observable(null),this.view=ko.observable(null),this.authInitializing=ko.observable(!0),this.isLoggedIn=ko.observable(!1),this.userPicture=ko.observable(""),this.currentGameId=ko.observable(""),this.pathAbs=$("#ApplicationRoot").attr("href"),this.path="",this.viewFac=new ViewFactory}return n.prototype.launch=function(){var t=$.url(this.pathAbs).attr("path"),n;t.charAt(t.length-1)!="/"&&(t+="/"),n=$.url().attr("path").replace(t,""),n&&n!="/"?n=="cards"?this.view(this.viewFac.createDeckView()):n=="me"?this.view(this.viewFac.createStandingView()):this.view(this.viewFac.createGameView(n)):this.view(this.viewFac.createGamesView())},n.prototype.getPath=function(){return this.path},n.prototype.getPathAbs=function(){return this.pathAbs},n.prototype.showStanding=function(){window.history.pushState(null,"Me",this.pathAbs+"me"),this.view(this.viewFac.createStandingView())},n.prototype.showGames=function(){window.history.pushState(null,"Game list",this.pathAbs),this.view(this.viewFac.createGamesView())},n.prototype.showCards=function(){window.history.pushState(null,"Card list",this.pathAbs+"cards"),this.view(this.viewFac.createDeckView())},n.prototype.login=function(n){var t=this,i=function(n){t.userPicture(n),t.isLoggedIn(!0)},r=$.url().param("userId");r?$.ajax(this.path+"logindebug",{type:"POST",data:{id:r},success:i}):$.ajax(this.path+"login",{type:"POST",data:$(n).serialize(),success:i})},n.prototype.getConnectionId=function(){return sessionStorage.getItem("srconnectionid")},n}()